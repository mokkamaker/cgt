{"status": "1", "message": "OK", "result": [{"SourceCode": "/*\r\n    Copyright 2017, Slock.it\r\n\r\n    This program is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU General Public License for more details.\r\n\r\n    You should have received a copy of the GNU General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\npragma solidity ^0.4.2;\r\n\r\ncontract Lib {\r\n    function updateContract(Lib _newAddress);\r\n}\r\n\r\ncontract LibManager {\r\n    address public admin;\r\n\r\n    // Libs:\r\n    Lib public mobilityTokenLib;\r\n    Lib public chargingPolesLib;\r\n    Lib public dateTimeLib;\r\n\r\n    // generic lib extensions\r\n    mapping (uint => Lib) public genLibs;\r\n    // priceProviderLibs\r\n    mapping (uint => Lib) public priceProviderLibs;\r\n\r\n    event LogUpdateAdmin(address newAdmin);\r\n    event LogUpdateLib(string name, address newAddress);\r\n    event LogUpdateGenLib(uint index, address);\r\n    event LogEmergenyHalt(uint time);\r\n\r\n    modifier onlyAdmin() {\r\n        if(msg.sender != admin) throw;\r\n        _;\r\n    }\r\n\r\n    modifier onlyAdminOrChargingPolesLib() {\r\n        if (msg.sender != admin && msg.sender != address(chargingPolesLib)) throw;\r\n        _;\r\n    }\r\n\r\n    function LibManager(){\r\n        admin = msg.sender;\r\n    }\r\n\r\n    function() {throw;}\r\n\r\n    function changeAdmin(address _admin) onlyAdmin{\r\n        admin = _admin;\r\n        LogUpdateAdmin(_admin);\r\n    }\r\n\r\n    function setMobilityTokenLib(Lib _mobilityTokenLib) onlyAdmin {\r\n        mobilityTokenLib = _mobilityTokenLib;\r\n        LogUpdateLib(\"mobilityTokenLib\", _mobilityTokenLib);\r\n    }\r\n\r\n    function updateMobilityTokenLib(Lib _mobilityTokenLib) onlyAdmin {\r\n        mobilityTokenLib.updateContract(_mobilityTokenLib);\r\n        setMobilityTokenLib(_mobilityTokenLib);\r\n    }\r\n\r\n    function setChargingPolesLib(Lib _ChargingPolesLib) onlyAdmin {\r\n        chargingPolesLib = _ChargingPolesLib;\r\n        LogUpdateLib(\"ChargingPolesLib\", _ChargingPolesLib);\r\n    }\r\n\r\n    function updateChargingPolesLib (Lib _ChargingPolesLib) onlyAdmin {\r\n        chargingPolesLib.updateContract(_ChargingPolesLib);\r\n        setChargingPolesLib(_ChargingPolesLib);\r\n    }\r\n\r\n    function setChargingPriceProviderLib(uint _type, Lib _chargingPriceProviderLib) onlyAdmin {\r\n        priceProviderLibs[_type] = _chargingPriceProviderLib;\r\n        LogUpdateLib(\"chargingPriceProviderLib\", _chargingPriceProviderLib);\r\n    }\r\n\r\n    function updateChargingPriceProviderLib(uint _type, Lib _chargingPriceProviderLib) onlyAdmin {\r\n        priceProviderLibs[_type].updateContract(_chargingPriceProviderLib);\r\n        setChargingPriceProviderLib(_type, _chargingPriceProviderLib);\r\n    }\r\n\r\n    function setDateTimeLib (Lib _dateTimeLib) onlyAdmin{\r\n        dateTimeLib = _dateTimeLib;\r\n        LogUpdateLib(\"dateTimeLib\", _dateTimeLib);\r\n    }\r\n\r\n    function updateDateTimeLib (Lib _dateTimeLib) onlyAdmin{\r\n        dateTimeLib.updateContract(_dateTimeLib);\r\n        setDateTimeLib(_dateTimeLib);\r\n    }\r\n\r\n    function setGenLib (uint8 _libIndex, Lib _libAddress) onlyAdmin {\r\n        genLibs[_libIndex] = _libAddress;\r\n        LogUpdateGenLib(_libIndex, _libAddress);\r\n    }\r\n\r\n    function updateGenLib (uint8 _libIndex, Lib _libAddress) onlyAdmin {\r\n        genLibs[_libIndex].updateContract(_libAddress);\r\n        setGenLib(_libIndex, _libAddress);\r\n    }\r\n\r\n    function emergencyHalt() onlyAdmin {\r\n        Lib emergencyLib = Lib(new EmergencyLib());\r\n        mobilityTokenLib = emergencyLib;\r\n        chargingPolesLib = emergencyLib;\r\n        LogEmergenyHalt(now);\r\n    }\r\n}\r\n\r\ncontract EmergencyLib {\r\n    function() {throw;}\r\n}", "ABI": "[{\"constant\":false,\"inputs\":[{\"name\":\"_dateTimeLib\",\"type\":\"address\"}],\"name\":\"updateDateTimeLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_libIndex\",\"type\":\"uint8\"},{\"name\":\"_libAddress\",\"type\":\"address\"}],\"name\":\"updateGenLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mobilityTokenLib\",\"type\":\"address\"}],\"name\":\"setMobilityTokenLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"emergencyHalt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_type\",\"type\":\"uint256\"},{\"name\":\"_chargingPriceProviderLib\",\"type\":\"address\"}],\"name\":\"setChargingPriceProviderLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mobilityTokenLib\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_ChargingPolesLib\",\"type\":\"address\"}],\"name\":\"setChargingPolesLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_type\",\"type\":\"uint256\"},{\"name\":\"_chargingPriceProviderLib\",\"type\":\"address\"}],\"name\":\"updateChargingPriceProviderLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"changeAdmin\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"priceProviderLibs\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mobilityTokenLib\",\"type\":\"address\"}],\"name\":\"updateMobilityTokenLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"genLibs\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dateTimeLib\",\"type\":\"address\"}],\"name\":\"setDateTimeLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_ChargingPolesLib\",\"type\":\"address\"}],\"name\":\"updateChargingPolesLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_libIndex\",\"type\":\"uint8\"},{\"name\":\"_libAddress\",\"type\":\"address\"}],\"name\":\"setGenLib\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"chargingPolesLib\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dateTimeLib\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"type\":\"constructor\"},{\"payable\":false,\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"LogUpdateAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"newAddress\",\"type\":\"address\"}],\"name\":\"LogUpdateLib\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"\",\"type\":\"address\"}],\"name\":\"LogUpdateGenLib\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"time\",\"type\":\"uint256\"}],\"name\":\"LogEmergenyHalt\",\"type\":\"event\"}]", "ContractName": "LibManager", "CompilerVersion": "v0.4.9+commit.364da425", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://0b7f99a0dd8ce779628983cc9d8cc0b059ce457cbdf5e58631819f7155de4a31"}]}