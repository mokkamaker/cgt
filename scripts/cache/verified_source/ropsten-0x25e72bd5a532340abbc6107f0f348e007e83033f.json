{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.7; \r\n \r\ncontract BaseAgriChainContract {\r\n    address creator; \r\n    function BaseSmartContract() public    {   creator = msg.sender;   }\r\n    \r\n    modifier onlyBy(address _account)\r\n    {\r\n        if (msg.sender != _account)\r\n            throw;\r\n        _;\r\n    }\r\n    \r\n    function kill() onlyBy(creator)\r\n    {               suicide(creator);     }\r\n    \r\n     function setCreator(address _creator)  onlyBy(creator)\r\n    {           creator = _creator;     }\r\n  \r\n}\r\n \r\n\r\ncontract AgriChainIter is BaseAgriChainContract    \r\n{\r\n    struct LogRowLog \r\n{\r\n    byte     DateYY;\r\n    string   Message;   \r\n    string   DocUri;\r\n    bytes32   DocSHA3;    \r\n    address   NextLog;\r\n    address   PrecLog;\r\n}\r\n\r\n   struct LogRow\r\n{\r\n    uint     Pos;\r\n    string   Message;   \r\n    \r\n}\r\n    \r\n \r\n    uint  HistoryNum;\r\n    mapping (uint => LogRow) public History;\r\n    \r\n    LogRow[]  public HistoryArr;\r\n    \r\n    byte   public DateYY;\r\n    byte   public DateMM;\r\n    byte   public DateDD;\r\n    string public Message;   \r\n    string public DocUri;\r\n    bytes32 public DocSHA3;    \r\n    address public NextLog;\r\n    address public PrecLog;\r\n\r\n\r\n    event InitLog(address indexed _sender,  uint256 _time,byte _DateYY,byte _DateMM,byte _DateDD,string _Message, bytes32  _DocSHA3,address _NextLog ,address _PrecLog);\r\n\r\n    function IterLog() public   \r\n    {\r\n       \r\n        //ts=block.timestamp;\r\n        PrecLog=address(this);\r\n        NextLog=address(this);\r\n        \r\n      \r\n    }\r\n    \r\n    function  HistoryTo(uint  pos)  public onlyBy(creator)\r\n    {\r\n     \r\n    // History[pos]=LogRow(DateYY,Message ,\"\", DocSHA3,  NextLog, PrecLog);    \r\n    History[pos]=LogRow(pos,Message );    \r\n    \r\n        \r\n    }\r\n    function   HistorySet(uint  _pos,string _Message )  public onlyBy(creator)\r\n    {\r\n   \r\n    // History[pos]=LogRow(DateYY,Message ,\"\", DocSHA3,  NextLog, PrecLog);    \r\n    History[_pos]=LogRow(_pos,_Message );\r\n    HistoryArr.push( History[_pos]);\r\n    }\r\n    \r\n     \r\n\r\n    function Init(byte _DateYY,byte _DateMM,byte _DateDD,string _Message, \r\n    //string _DocUri,\r\n    bytes32  _DocSHA3,\r\n    address _NextLog,\r\n    address _PrecLog\r\n    ) public onlyBy(creator)\r\n    {\r\n       \r\n    DateYY    = _DateYY;\r\n    DateMM    = _DateMM;\r\n    DateDD    = _DateDD;\r\n    \r\n    \r\n    Message = _Message;\r\n    //DocUri=_DocUri;\r\n    DocSHA3=  _DocSHA3;\r\n    //DocSIG =   _DocSIG;\r\n    \r\n    NextLog=_NextLog;\r\n    PrecLog=_PrecLog;\r\n    //ts=block.timestamp;\r\n    //InitLog(msg.sender,now,_DateYY,_DateMM,_DateDD,_Message,_DocSHA3,_NextLog ,_PrecLog);\r\n        \r\n    }\r\n\r\n    function setMessage(string _Message)  onlyBy(creator)\r\n    {\r\n          Message = _Message;\r\n          \r\n       \r\n    }\r\n    \r\n     \r\n      function setDate(byte _DateYY,byte _DateMM,byte _DateDD)  onlyBy(creator)\r\n    {\r\n          DateYY = _DateYY;\r\n          DateMM = _DateMM;\r\n          DateDD = _DateDD;\r\n          \r\n          \r\n    }\r\n    \r\n    \r\n    \r\n       function setDocUri(string _DocUri)  onlyBy(creator)\r\n    {\r\n          DocUri = _DocUri;\r\n      \r\n    }\r\n    \r\n     \r\n       function setDocSHA3(bytes32  _DocSHA3)  onlyBy(creator)\r\n    {\r\n          DocSHA3 = _DocSHA3;\r\n        \r\n    }\r\n    \r\n       \r\n     function setNextLog(address _NextLog)  onlyBy(creator)\r\n    {\r\n          NextLog = _NextLog;\r\n         \r\n    }\r\n    \r\n   \r\n        \r\n      function setPrecLog(address _PrecLog)  onlyBy(creator)\r\n    {\r\n         PrecLog = _PrecLog;\r\n     \r\n    }\r\n\r\n\r\n  function appendTo(address _PrecLog)  onlyBy(creator) \r\n    {\r\n        PrecLog = _PrecLog;\r\n        AgriChainIter  p  = AgriChainIter(_PrecLog);\r\n     \r\n        p.setNextLog(address(this));\r\n        \r\n        \r\n         \r\n        //ts=block.timestamp;\r\n    }\r\n\r\n \r\n    \r\n}", "ABI": "[{\"constant\":false,\"inputs\":[{\"name\":\"_PrecLog\",\"type\":\"address\"}],\"name\":\"setPrecLog\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"HistoryArr\",\"outputs\":[{\"name\":\"Pos\",\"type\":\"uint256\"},{\"name\":\"Message\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DateDD\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes1\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PrecLog\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_DocUri\",\"type\":\"string\"}],\"name\":\"setDocUri\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_Message\",\"type\":\"string\"}],\"name\":\"setMessage\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_creator\",\"type\":\"address\"}],\"name\":\"setCreator\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DocSHA3\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"IterLog\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DocUri\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"BaseSmartContract\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_PrecLog\",\"type\":\"address\"}],\"name\":\"appendTo\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_pos\",\"type\":\"uint256\"},{\"name\":\"_Message\",\"type\":\"string\"}],\"name\":\"HistorySet\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"pos\",\"type\":\"uint256\"}],\"name\":\"HistoryTo\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_DateYY\",\"type\":\"bytes1\"},{\"name\":\"_DateMM\",\"type\":\"bytes1\"},{\"name\":\"_DateDD\",\"type\":\"bytes1\"}],\"name\":\"setDate\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"Message\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"History\",\"outputs\":[{\"name\":\"Pos\",\"type\":\"uint256\"},{\"name\":\"Message\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_DateYY\",\"type\":\"bytes1\"},{\"name\":\"_DateMM\",\"type\":\"bytes1\"},{\"name\":\"_DateDD\",\"type\":\"bytes1\"},{\"name\":\"_Message\",\"type\":\"string\"},{\"name\":\"_DocSHA3\",\"type\":\"bytes32\"},{\"name\":\"_NextLog\",\"type\":\"address\"},{\"name\":\"_PrecLog\",\"type\":\"address\"}],\"name\":\"Init\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_DocSHA3\",\"type\":\"bytes32\"}],\"name\":\"setDocSHA3\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"NextLog\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_NextLog\",\"type\":\"address\"}],\"name\":\"setNextLog\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DateMM\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes1\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DateYY\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes1\"}],\"payable\":false,\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_time\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"_DateYY\",\"type\":\"bytes1\"},{\"indexed\":false,\"name\":\"_DateMM\",\"type\":\"bytes1\"},{\"indexed\":false,\"name\":\"_DateDD\",\"type\":\"bytes1\"},{\"indexed\":false,\"name\":\"_Message\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"_DocSHA3\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_NextLog\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_PrecLog\",\"type\":\"address\"}],\"name\":\"InitLog\",\"type\":\"event\"}]", "ContractName": "AgriChainIter", "CompilerVersion": "v0.4.7+commit.822622cf", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://a46343ac8b573dc97e9231d038065253e2cc95cccfea03e5cf9fab1ef85bc1d8"}]}